<div ng-init="loadBrandAndMeasurement()">
  <div class="panel panel-primary">
    <div class="panel-heading" style="color: black">
      <!--<button type="button" class="btn btn-default btn-circle pull-right" data-toggle="popover"-->
      <!--data-placement="bottom" title="Add New User Form" data-content="This is the add new user form and you can add-->
      <!--a new user using valid details. Make sure you are adding real data.">-->
      <!--<i class="glyphicon glyphicon-italic"></i>-->
      <!--</button>-->
      <button style="vertical-align: middle" type="button" class="btn btn-default btn-circle pull-right"
              notify-directive form="form"
              error-message="'Add New Item Form.This is the add new item form and you can add a new item using valid details. Make sure you are adding real data.'"
              pop-place="'down'">
        i
      </button>
      <h3 style="color: white" class="panel-title">Add New Item</h3>
    </div>
    <br>


    <div class="row">
      <div class="col-lg-12">
        <div class="col-lg-3" style="text-align: right"><label for="buyingPrice2">Medicine Name</label>
          <button style="vertical-align: middle" type="button" class="btn btn-default btn-circle pull-right"
                  id="buyingPriceBtn1" notify-directive form="form" error-message="'Medicine Price here'"
                  pop-place="'top'">
            i
          </button>
        </div>
        <div class="col-lg-4">
          <input id="itemName" type="text" class="form-control initialError"
                 placeholder="Medicine Name" ng-model="item.itemName" notify-directive form="form"
                 error-message="'Enter valid medicine name'" pop-place="'right'"
                 ng-keypress="activeQty($event)">
        </div>

        <div class="col-lg-2"><label for="buyingPrice" style="text-align: right">Min Qty</label>
          <button style="vertical-align: middle" type="button" class="btn btn-default btn-circle pull-right"
                  id="buyingPriceBtn3" notify-directive form="form" error-message="'Min Qty here'"
                  pop-place="'top'">
            i
          </button>
        </div>
        <div class="col-lg-3">
          <input id="minQty" type="text" class="form-control initialError"
                 placeholder="Min Qty" ng-model="item.minQty" notify-directive form="form"
                 error-message="'Enter valid min qty'" pop-place="'right'"
                 ng-keypress="activeBrand($event)" onkeypress=" return IsNumeric(event);">
        </div>
      </div>

      <div class="row" style="margin-top:50px;">
        <div class="col-lg-12">
          <div class="col-lg-3" style="text-align: right;margin-left: 10px"><label for="allBrandId">Brand</label>
            <button style="vertical-align: middle" type="button" class="btn btn-default btn-circle pull-right"
                    id="buyingPriceBtn5" notify-directive form="form" error-message="'Brand here'"
                    pop-place="'top'">
              i
            </button>
          </div>
          <div class="col-lg-3">
            <select class="js-example-basic-single form-control" id="brandId" ng-model="item.brandId" ng-click="activeMeasument($event)">
              <option value="">Select Brand</option>
              <option ng-repeat="data in allBrands" value="{{data.brandId}}">{{data.brandName}}</option>
            </select>
            <script>
              $(document).ready(function () {
                $(".js-example-basic-single").select2();
              });
            </script>

          </div>
          <div class="col-lg-3" style="text-align: right; margin-left: -50px;"><label
            for="buyingPrice">Measurement</label>
            <button style="vertical-align: middle" type="button" class="btn btn-default btn-circle pull-right"
                    id="buyingPriceBtn7" notify-directive form="form" error-message="'Measurement here'"
                    pop-place="'top'">
              i
            </button>
          </div>
          <div class="col-lg-3" style="text-align: right">
            <select class="js-example-basic-single form-control" ng-model="item.measurementId" id="measurementId">
              <option value="">Select Measurement</option>
              <option ng-repeat="data in allMeasurement" value="{{data.measurementId}}">{{data.measurementName }}
              </option>
            </select>
            <script>
              $(document).ready(function () {
                $(".js-example-basic-single").select2();
              });
            </script>
          </div>

        </div>

        <div class="row">
          <div class="row pull-right" style="padding-right: 70px;margin-top: 20px;">
            <button id="saveBtn" data-toggle="tooltip" title="Save data without reviewing data at your own risk."
                    class="btn btn-primary btn-sm" ng-click="addItemToTable()">Add To Table
            </button>
            <button id="reviewBtn" data-toggle="tooltip"
                    title="Review all the filled data before saving the document."
                    class="btn btn-info btn-sm" ng-click="openReviewModalInAddBatch()">Clear
            </button>
          </div>
        </div>
        <br/>

        <div>
          <div class="col-lg-2"></div>
          <div class="col-lg-8">
            <form class="form-horizontal">
              <table class="table table-bordered">
                <tr>
                  <th>Medicine
                    <Name></Name>
                  </th>
                  <th>Min Qty</th>
                  <th>Brand</th>
                  <th>Measurement</th>
                </tr>
                <tr ng-repeat="data in  tableValue">
                  <td>{{data.itemName | limitTo:17}}</td>
                  <td>{{data.minQty | limitTo:10}}</td>
                  <td>{{data.brandName| limitTo:17 }}</td>
                  <td>{{data.measurement| limitTo:17}}</td>

                </tr>
              </table>
            </form>
          </div>
          <div class="col-lg-2"></div>
        </div>

        <div class="row">
          <div class="row pull-right" style="padding-right: 70px;">
            <button id="saveBtn12" data-toggle="tooltip" title="Save data without reviewing data at your own risk."
                    class="btn btn-primary" ng-click="saveItem()">Add Item
            </button>
            <button id="reviewBtn12" data-toggle="tooltip"
                    title="Review all the filled data before saving the document."
                    class="btn btn-info" ng-click="openReviewModalInAddBatch()">Close
            </button>
          </div>
        </div>
        <br>

      </div>

    </div>

  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="reviewModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
          aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Add New Batch</h4>
      </div>
      <div class="modal-body">
        <div class="col-lg-2" style="text-align: right;font-weight: bold;vertical-align: middle">
          Date

        </div>
        <div class="col-lg-10">
          <input id="datetimepickerModel" class="form-control initialError" type="text"
                 placeholder="Click to Get Date (YYYY-MM-DD HH:MM:SS)" ng-model="dateTo">

        </div>
      </div>
      <br>

      <div class="row" style="margin-left: 15%">
        <!--<div class="col-lg-3" style="text-align: right;font-weight: bold">-->
        <!--Initials-->
        <!--<button type="button" class="btn btn-default btn-circle pull-right" id="initialBtn" notify-directive-->
        <!--form="form" error-message="'User initials here chanakadesilva'" pop-place="'top'">i-->
        <!--</button>-->
        <!--</div>-->

        <div class="col-lg-3">
          <label for="item" form="form" error-message="'Date here'"
                 pop-place="'top'">Item Name</label>


          <select class="js-example-basic-single form-control">
            <option value="AL">Alabama</option>
            <option value="WY">Wyoming</option>
            <option value="WY">Wyoming</option>
            <option value="WY">Wyoming</option>
            <option value="WY">Wyoming</option>
          </select>

        </div>
        <div class="col-lg-3">
          <label for="qty">Quantity</label>

          <input id="qtyModal" type="text" class="form-control initialError"
                 placeholder="qty" ng-model="user.initials" notify-directive form="form"
                 error-message="'Enter valid initials'" pop-place="'right'"
                 ng-keypress="activeTitleSelect($event)">
        </div>
        <div class="col-lg-4">
          <label for="qty">Expire Date</label>

          <input id="expireDateModel" class="form-control initialError" type="text"
                 placeholder="Click to Get Date " ng-model="dateFrom" notify-directive form="form"
                 error-message="'Enter valid initials'" pop-place="'right'">
        </div>

      </div>
      <br/>

      <div class="row" style="margin-left: 15%">
        <div class="col-lg-4">
          <label for="qty">Buying Price</label>

          <input id="buyingPriceModel" type="text" class="form-control initialError"
                 placeholder="Expire Date" ng-model="user.initials" notify-directive form="form"
                 error-message="'Enter valid initials'" pop-place="'right'"
                 ng-keypress="activeTitleSelect($event)">
        </div>
        <div class="col-lg-4">
          <label for="qty">Selling Price</label>

          <input id="sellingPriceModel" type="text" class="form-control initialError"
                 placeholder="Selling Price" ng-model="user.initials" notify-directive form="form"
                 error-message="'Enter valid initials'" pop-place="'right'"
                 ng-keypress="activeTitleSelect($event)">
        </div>
      </div>
      <br/>

      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>
</div>

<script>
  jQuery('#datetimepicker').datetimepicker({
    format: 'Y-m-d H:i',
    lang: 'ru'
  });
</script>
<script>
  jQuery('#datetimepicker2').datetimepicker({
    format: 'Y-m-d H:i',
    lang: 'ru'
  });
</script>
